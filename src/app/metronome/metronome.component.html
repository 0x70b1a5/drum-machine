<div class="metronome">
  <div class="instruments-container-container">
    <div class="instrument-container" *ngFor="let instrument of instruments">
      <div class="instrument-name">
        {{instrument}}
      </div>
      <div *ngFor="let beat of beatLocations[instrument]; let i = index"
           [ngClass]="{'beat': true, 'active-beat': beat, 'quarter-note-left-border': i % 4 === 0}"
           (click)="toggleBeat(instrument, i)">
      </div>
    </div>
    <div class="bpm-number-and-slider-container">
      <div class="bpm-number">{{bpm}} bpm</div>
      <input type="range"
             min="40"
             max="220"
             #ref
             (input)="updateBpm(ref.value)"
             [(ngModel)]="bpm" />
    </div>
  </div>
  <div class="buttons-container">
    <button (window:keydown)="toggle($event)"
            (click)="toggle()">{{playing ? 'stop' : 'start'}}
    </button>
    <button (click)="clear()">clear</button>
  </div>
</div>
